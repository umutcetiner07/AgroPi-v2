<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>AgroPi — Üyelik</title>
  <style>
    body{margin:0;font-family:Inter,system-ui,sans-serif;background:#f6f7fb;color:#111}
    header{padding:16px;background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.1);}
    .container{max-width:500px;margin:40px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.08);}
    h2{margin-top:0}
    label{display:block;margin:10px 0 4px;font-size:14px}
    input{width:100%;padding:10px;border:1px solid #d1d5db;border-radius:6px}
    .actions{margin-top:16px;display:flex;gap:10px}
    button{flex:1;padding:12px;border-radius:6px;border:0;cursor:pointer;font-weight:600}
    .btn-primary{background:#2b6ef6;color:#fff}
    .btn-secondary{background:#e5e7eb;color:#111}
    .msg{margin-top:12px;font-size:14px}
  </style>
</head>
<body>
  <header><a href="index.html">← Ana Sayfa</a></header>
  <div class="container">
    <h2>Üyelik</h2>
    <label>İsim</label><input id="mName" placeholder="Adınız">
    <label>E-posta</label><input id="mEmail" placeholder="email@ornek.com">
    <label>Şifre</label><input id="mPass" type="password" placeholder="Güçlü bir şifre">
    <div class="actions">
      <button id="mRegister" class="btn-secondary">Kayıt Ol</button>
      <button id="mLogin" class="btn-primary">Giriş Yap</button>
    </div>
    <div id="msg" class="msg"></div>
  </div>

<script>
const USERS_KEY = "agropi_users";
function getUsers(){ try{return JSON.parse(localStorage.getItem(USERS_KEY)||"{}");}catch(e){return {}} }
function saveUsers(u){ localStorage.setItem(USERS_KEY, JSON.stringify(u)) }
const msgEl=document.getElementById("msg");

document.getElementById("mRegister").onclick = () => {
  const n=mName.value.trim(),e=mEmail.value.trim().toLowerCase(),p=mPass.value;
  if(!e||!p){ msgEl.textContent="E-posta ve şifre gerekli";msgEl.style.color="red";return; }
  const u=getUsers(); if(u[e]){ msgEl.textContent="Zaten kayıtlı";msgEl.style.color="red";return; }
  u[e]={name:n,pass:btoa(p)}; saveUsers(u);
  msgEl.textContent="Kayıt başarılı, giriş yapabilirsiniz.";msgEl.style.color="green";
};

document.getElementById("mLogin").onclick = () => {
  const e=mEmail.value.trim().toLowerCase(),p=mPass.value;
  const u=getUsers(); if(!u[e]||u[e].pass!==btoa(p)){ msgEl.textContent="Giriş başarısız";msgEl.style.color="red";return; }
  msgEl.textContent="Giriş başarılı, hoşgeldin "+(u[e].name||e);msgEl.style.color="green";
};
</script>
</body>
</html>
